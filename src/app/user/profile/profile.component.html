<div class="container">
  <h1>{{ownProfile() ? 'My Profile Info' : userData.name + '\'s Profile Info' }}</h1>
  <img *ngIf="image" [src]="image" class="user-photo"/>
  <div class="info">
    <div *ngIf="userData.email">
      <p class="item">Email:</p>
      <p>
        {{userData.email}}
      </p>
    </div>
    <div *ngIf="userData.name">
      <p class="item">Name:</p>
      <p>{{userData.name}}</p>
    <div *ngIf="userData.bio">
      <p class="item">Bio:</p>
      <p>{{userData.bio}}</p>
    </div>
  </div>
  <div class="action" *ngIf="ownProfile() && (isLoggedIn$ | async)">
    <button mat-flat-button color="accent" (click)="onEdit()">{{showEditForm ? 'Hide' : 'Show'}} Edit Form</button>
    <button mat-flat-button color="primary" (click)="onOpenFollowPosts()">Show Follow Posts List</button>
    <button mat-flat-button color="warn" (click)="onDeleteProfile()">Delete Profile</button>
  </div>
  <div class="action" *ngIf="!ownProfile()">
    <button mat-flat-button color="accent" (click)="onFollow()" *ngIf="!(iFollow$ | async)" [disabled]="isLoggedOut$ | async">Follow This User</button>
    <button mat-flat-button color="warn" (click)="onUnFollow()" *ngIf="(iFollow$ | async)" [disabled]="isLoggedOut$ | async">Unfollow This User</button>
  </div>
  <edit-user-profile [userData]="userData" (getUserInfo)="getUserInfo($event)" *ngIf="showEditForm"></edit-user-profile>
  <div *ngFor="let post of posts; index as i">
    <post-list-item [post]="post"></post-list-item>
  </div>
  <button mat-flat-button color="accent" (click)="onOpenFollowPosts()" *ngIf="showMorePosts">Load More Posts</button>
</div>
